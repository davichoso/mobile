angular.module("app.controllers",[]).controller("cameraCtrl",function(e,t,a,n,r,i){t.step=2,localStorage.step=2,e.takePicture=function(){document.addEventListener("deviceready",function(){var e={quality:80,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,saveToPhotoAlbum:!1,correctOrientation:!0,targetWidth:360,targetHeight:550};a.getPicture(e).then(function(e){t.image="data:image/jpeg;base64,"+e,localStorage.image=t.image,localStorage.step=3,t.step=3,r.path("/filters")},function(e){})},!1)},e.dodat=function(e){var t=i.defer();return e?window.plugins.Base64.encodeFile(e[0],function(e){t.resolve(e)}):t.reject("NaN"),t.promise},e.takePicturefromlibrary=function(){var a={maximumImagesCount:1,width:360,height:550,quality:80};n.getPictures(a).then(function(a){e.promise=e.dodat(a),e.promise.then(function(e){t.image=e,localStorage.image=t.image,localStorage.step=3,t.step=3,r.path("/filters")},function(e){console.log("error")})},function(e){})}}).controller("filtersCtrl",function(e,t,a){t.imagecopy=t.image,t.step=3,localStorage.step=3,t.image||a.path("/camera"),e.selhand="no",e.changehand=function(a){e.selhand=a;var n=new Image,r=new Image;r.src=t.image,n.src="img/"+a+".png";var i=document.createElement("canvas");i.width=r.width,i.height=r.height;var o=i.getContext("2d");o.drawImage(r,0,0);var c=.6*i.width,l=c*(n.height/n.width),g=i.height-l;derecha=0,a.endsWith("r",3)&&(derecha=i.width-c),o.drawImage(n,0,0,n.width,n.height,derecha,g,c,l),t.imagecopy=i.toDataURL("image/jpeg",.8)}}).controller("sendCtrl",function(e){}).controller("homeCtrl",function(e){}).controller("shareCtrl",function(e){});