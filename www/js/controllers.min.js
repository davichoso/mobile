angular.module("app.controllers",[]).controller("cameraCtrl",function(e,t,a,n,o,r){t.step=2,localStorage.step=2,e.takePicture=function(){document.addEventListener("deviceready",function(){var e={quality:80,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,saveToPhotoAlbum:!1,correctOrientation:!0};a.getPicture(e).then(function(e){t.image="data:image/jpeg;base64,"+e,localStorage.image=t.image,localStorage.step=3,t.step=3,o.path("/filters")},function(e){})},!1)},e.dodat=function(e){var t=r.defer();return e?window.plugins.Base64.encodeFile(e[0],function(e){t.resolve(e)}):t.reject("NaN"),t.promise},e.takePicturefromlibrary=function(){var a={maximumImagesCount:1,width:800,height:800,quality:80};n.getPictures(a).then(function(a){e.promise=e.dodat(a),e.promise.then(function(e){t.image=e,localStorage.image=t.image,localStorage.step=3,t.step=3,o.path("/filters")},function(e){console.log("error")})},function(e){})}}).controller("filtersCtrl",function(e,t,a){t.imagecopy=t.image,t.step=3,localStorage.step=3,t.image||a.path("/camera"),e.selhand="no",e.changehand=function(a){e.selhand=a;var n=new Image,o=new Image;o.src=t.image,n.src="img/"+a+".png";var r=document.createElement("canvas");r.width=o.width,r.height=o.height;var i=r.getContext("2d");i.drawImage(o,0,0);var c=.5*r.width,l=c*(n.height/n.width),g=r.height-l;derecha=0,a.endsWith("r",3)&&(derecha=r.width-c),i.drawImage(n,0,0,n.width,n.height,derecha,g,c,l),t.imagecopy=r.toDataURL("image/jpeg",.8)}}).controller("sendCtrl",function(e){}).controller("homeCtrl",function(e){}).controller("shareCtrl",function(e){});